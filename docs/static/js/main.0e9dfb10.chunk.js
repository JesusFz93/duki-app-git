(this["webpackJsonpjournal-app"]=this["webpackJsonpjournal-app"]||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=a(6),u=a(14),i=a(51),s="[Auth] Login",m="[Auth] Logout",p="[UI] Set Error",d="[UI] Remove Error",h="[UI] Start loading",E="[UI] Finish loading",b=a(9),f={loading:!1,msgError:null},g="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,_=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return{uid:t.payload.uid,name:t.payload.displayName};case m:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(b.a)(Object(b.a)({},e),{},{msgError:t.payload});case d:return Object(b.a)(Object(b.a)({},e),{},{msgError:null});case h:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case E:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});default:return e}}}),v=Object(u.e)(_,g(Object(u.a)(i.a))),N=a(12),y=a(11),j=a(4),w=a(18),O=a.n(w);a(65),a(69);O.a.initializeApp({apiKey:"AIzaSyCAdGm5n8lQTs2AMHyUM7Kd6hW7gL6Z-uA",authDomain:"duki-app-fbase.firebaseapp.com",projectId:"duki-app-fbase",storageBucket:"duki-app-fbase.appspot.com",messagingSenderId:"782991604216",appId:"1:782991604216:web:2bc0f7033c13e4b1dcbe0d",measurementId:"G-B1HTXS27Y5"});O.a.firestore();var k=new O.a.auth.GoogleAuthProvider,A=a(24),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(N.a)(t,2),r=a[0],c=a[1],l=function(){c(e)},o=function(e){var t=e.target;c(Object(b.a)(Object(b.a)({},r),{},Object(A.a)({},t.name,t.value)))};return[r,o,l]},C=a(19),S=a.n(C),I=a(32),P=a(33),D=a.n(P),L=function(e){return{type:p,payload:e}},U=function(){return{type:E}},z=function(e,t){return function(a){a({type:h}),O.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(F(t.uid,t.displayName)),a(U())})).catch((function(e){console.log(e),a(U()),D.a.fire("Error",e.message,"error")}))}},F=function(e,t){return{type:s,payload:{uid:e,displayName:t}}},G=function(){return{type:m}},R=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.ui})).loading,a=x({email:"duki@gmail.com",password:"Duki123"}),n=Object(N.a)(a,2),c=n[0],l=n[1],u=c.email,i=c.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Login"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(z(u,i))}},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:u,onChange:l}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:i,onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t},"Login"),r.a.createElement("div",{className:"auth__social-networks"},r.a.createElement("p",null,"Login with social networks"),r.a.createElement("div",{className:"google-btn",onClick:function(){e((function(e){O.a.auth().signInWithPopup(k).then((function(t){var a=t.user;e(F(a.uid,a.displayName))}))}))}},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})),r.a.createElement("p",{className:"btn-text"},r.a.createElement("b",null,"Sign in with google")))),r.a.createElement(y.b,{to:"/auth/register",className:"link"},"Create new account")))},W=a(52),B=a.n(W),M=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.ui})).msgError,a=x({name:"Duki Fdz",email:"duki@gmail.com",password:"Duki123",password2:"Duki123"}),n=Object(N.a)(a,2),c=n[0],l=n[1],u=c.name,i=c.email,s=c.password,m=c.password2,p=function(){return 0===u.trim().length?(e(L("Name is required")),!1):B.a.isEmail(i)?s!==m||s.length<5?(e(L("Password should be at least 6 characters and match each other")),!1):(e({type:d}),!0):(e(L("Email is not valid")),!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Register"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),p()&&e(function(e,t,a){return function(n){O.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var e=Object(I.a)(S.a.mark((function e(t){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,r.updateProfile({displayName:a});case 3:n(F(r.uid,r.displayName));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),D.a.fire("Error",e.message,"error")}))}}(i,s,u))}},t&&r.a.createElement("div",{className:"auth__alert-error"},t),r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",className:"auth__input",autoComplete:"off",value:u,onChange:l}),r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:i,onChange:l}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:s,onChange:l}),r.a.createElement("input",{type:"password",placeholder:"Confirm password",name:"password2",className:"auth__input",value:m,onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mb-5"},"Register"),r.a.createElement(y.b,{to:"/auth/login",className:"link"},"Already registered?")))},T=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/auth/login",component:R}),r.a.createElement(j.b,{exact:!0,path:"/auth/register",component:M}),r.a.createElement(j.a,{to:"/auth/login"}))))},J=a(25),X=function(e){var t=e.isAuthenticated,a=e.component,n=Object(J.a)(e,["isAuthenticated","component"]);return r.a.createElement(j.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(j.a,{to:"/auth/login"})}}))},H=function(){return r.a.createElement("div",{className:"journal__entry pointer"},r.a.createElement("div",{className:"journal__entry-picture",style:{backgroundSize:"cover",backgroundImage:"url(https://earthsky.org/upl/2018/12/comet-wirtanen-Jack-Fusco-dec-2018-Anza-Borrego-desert-CA-e1544613895713.jpg)"}}),r.a.createElement("div",{className:"journal__entry-body"},r.a.createElement("p",{className:"journal__entry-title"},"Un nuevo d\xeda"),r.a.createElement("p",{className:"journal__entry-content"},"Reprehenderit id in duis consectetur deserunt veniam fugiat.")),r.a.createElement("div",{className:"journal__entry-date-box"},r.a.createElement("span",null,"Monday"),r.a.createElement("h4",null,"28")))},K=function(){return r.a.createElement("div",{className:"journal__entries"},[1,2,3,4,5].map((function(e){return r.a.createElement(H,{key:e})})))},q=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth})).name;return r.a.createElement("aside",{className:"journal__sidebar"},r.a.createElement("div",{className:"journal__sidebar-navbar"},r.a.createElement("h3",{className:"mt-5"},r.a.createElement("i",{className:"far fa-moon"}),r.a.createElement("span",null," ",t)),r.a.createElement("button",{className:"btn",onClick:function(){e(function(){var e=Object(I.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.auth().signOut();case 2:t(G());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Logout")),r.a.createElement("div",{className:"journal__new-entry"},r.a.createElement("i",{className:"far fa-calendar-plus fa-5x"}),r.a.createElement("p",{className:"mt-5"},"New entry")),r.a.createElement(K,null))},Q=function(){return r.a.createElement("div",{className:"notes__appbar"},r.a.createElement("span",null,"28 de agosto 2020"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn"},"Picture"),r.a.createElement("button",{className:"btn"},"Save")))},V=function(){return r.a.createElement("div",{className:"notes__main-content"},r.a.createElement(Q,null),r.a.createElement("div",{className:"notes__content"},r.a.createElement("input",{type:"text",placeholder:"Some awesome title",className:"notes__title-input",autoComplete:"off"}),r.a.createElement("textarea",{placeholder:"What happened today",className:"notes__textarea"}),r.a.createElement("div",{className:"notes__image"},r.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg",alt:"imagen"}))))},Y=function(){return r.a.createElement("div",{className:"journal__main-content"},r.a.createElement(q,null),r.a.createElement("main",null,r.a.createElement(V,null)))},Z=function(e){var t=e.isAuthenticated,a=e.component,n=Object(J.a)(e,["isAuthenticated","component"]);return r.a.createElement(j.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(j.a,{to:"/"}):r.a.createElement(a,e)}}))},$=function(){var e=Object(o.b)(),t=Object(n.useState)(!0),a=Object(N.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!1),i=Object(N.a)(u,2),s=i[0],m=i[1];return Object(n.useEffect)((function(){O.a.auth().onAuthStateChanged((function(t){(null===t||void 0===t?void 0:t.uid)?(e(F(t.uid,t.displayName)),m(!0)):m(!1),l(!1)}))}),[e,l,m]),c?r.a.createElement("h1",null,"Espere..."):r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement(j.d,null,r.a.createElement(Z,{path:"/auth",component:T,isAuthenticated:s}),r.a.createElement(X,{exact:!0,isAuthenticated:s,path:"/",component:Y}),r.a.createElement(j.a,{to:"/auth/login"}))))},ee=function(){return r.a.createElement(o.a,{store:v},r.a.createElement($,null))};a(146);l.a.render(r.a.createElement(ee,null),document.getElementById("root"))},53:function(e,t,a){e.exports=a(147)}},[[53,1,2]]]);
//# sourceMappingURL=main.0e9dfb10.chunk.js.map